spring:
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB

  mvc:
    async:
      request-timeout: 600000
    contentnegotiation:
      favor-parameter: true

  application:
    name: booklore-api

  datasource:
    url: jdbc:mysql://localhost:3306/ebook_platform?useUnicode=true&characterEncoding=utf8&serverTimezone=UTC
    username: ebook_admin
    password: ebook_123456
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    show-sql: false
    open-in-view: false
    properties:
      hibernate:
        jdbc:
          batch_size: 500
          order_inserts: true

  mail:
    host: smtp.163.com
    port: 465
    username: 13215675728@163.com
    password: SYf6TTheqrBEX9QW
    protocol: smtps
    properties:
      mail.smtp.auth: true
      mail.smtp.ssl.enable: true
      mail.smtp.starttls.enable: false
      mail.smtp.starttls.required: false

  rabbitmq:
    host: localhost
    port: 5672
    username: admin
    password: admin
    listener:
      simple:
        acknowledge-mode: manual

  redis:
    host: localhost
    port: 6379
    database: 0

  data:
    mongodb:
      uri: mongodb://localhost:27017/note_db

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    schemas: ebook_platform

jwt:
  secret: Fs9K2nKqP9zqD82jsk29Ahd92nDkQ8snf7P2jS8KfD8=
  expiration: 3600

minio:
  endpoint: http://localhost:9000
  access-key: name
  secret-key: password
  bucket: notesharing

mybatis:
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: false
    default-statement-timeout: 600
  type-aliases-package: com.project.login.model

elasticsearch:
  host: localhost
  port: 9200
  scheme: http

# ModelScope API 配置
modelscope:
  base-url: https://api-inference.modelscope.cn/v1
  api:
    key: "ms-3746afb4-3d97-4748-a356-774a71525f47"
  model: Qwen/Qwen2.5-7B-Instruct

# 敏感词扫描配置
sensitive:
  scan:
    chunk-size: 4000        # 长文本分块大小（字符数）
    concurrency: 4          # 并发审查线程数
  keywords:
    path: ""                 # 外部敏感词文件路径（可选，留空则使用classpath下的文件）
